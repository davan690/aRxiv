<!--
%\VignetteEngine{knitr::knitr}
%\VignetteIndexEntry{R/simcross User Guide}
-->

# aRxiv tutorial

[arXiv](http://arxiv.org) is a repository of electronic preprints for
computer science, mathematics, physics, quantiative biology,
quantitative finance, and statistics. The
[aRxiv package](https://github.com/ropensci/aRxiv) provides an
[R](http://www.r-project.org) interface to the
[arXiv API](http://arxiv.org/help/api/index).

Note that the arXiv API _does not_ require an API key.

```{r change_aRxiv_delay_option, include=FALSE}
options(aRxiv_delay=0.5)
```

## Installation

The [aRxiv package](https://github.com/ropensci/aRxiv) is not
currently available on [CRAN](http://cran.r-project.org). To install the
package from [GitHub](http://github.com), use
`devtools::install_github()`, as follows:

```{r install_pkgs, eval=FALSE}
install.packages("devtools")
library(devtools)
install_github("ropensci/aRxiv")
```

## Basic use

Use `arxiv_search()` to search [arXiv](http://arxiv.org),
`arxiv_count()` to get a simple count of manuscripts matching a
query, and `arxiv_open()` to open the abstract pages for a set of
results from `arxiv_search()`.

We'll get to the details in a moment. For now, let's look at a few
examples.

Suppose we wanted to identify all arXiv manuscripts with `"Peter
Hall"` as an author. It is best to first get a count, so that we have
a sense of how many records a search will return. (Peter Hall is
&ldquo;[among the world's most prolific and highly cited authors in both probability and statistics](http://en.wikipedia.org/wiki/Peter_Gavin_Hall).&rdquo;)
We first use `library()` to load the aRxiv package and then
`arxiv_count()` to get the count.

```{r arxiv_count}
library(aRxiv)
arxiv_count('au:"Peter Hall"')
```

The `au:` part indicates to search the author fields; we use double
quotes to search for a _phrase_.

To obtain the actual records matching the query, use `arxiv_search()`.

```{r arxiv_search}
rec <- arxiv_search('au:"Peter Hall"')
nrow(rec)
```

The default is to grab no more than 10 records; this limit can be
changed with the `limit` argument. But note that the arXiv API will
not let you download more than 50,000 or so records, and even in that
case it's best to do so in batches; more on this below.

The following will get us all `r arxiv_count('au:"Peter Hall"')`
records.

```{r arxiv_search_limit50}
rec <- arxiv_search('au:"Peter Hall"', limit=50)
nrow(rec)
```

`arxiv_search()` returns a data frame with each row being a single
manuscript. The columns are the different fields (e.g., `authors`, `title`,
`abstract`, etc.). Fields like `authors` that
contain multiple items will be a single character string with the
multiple items separated by a vertical bar (`|`).

We might be interested in a more restrictive search, such as for Peter
Hall's arXiv manuscripts that have `"deconvolution"` in the title. We
use `ti:` to search the title field, and combine the two with `AND`.

```{r arxiv_search_deconvolution}
deconv <- arxiv_search('au:"Peter Hall" AND ti:deconvolution')
nrow(deconv)
```

Let's display just the authors and title for the results.

```{r authors_title}
deconv[, c("title", "authors")]
```

We can open the abstract pages for these `r nrow(deconv)` manuscripts
using `arxiv_open()`. It takes, as input, the output of
`arxiv_search()`.

```{r arxiv_open, eval=FALSE}
arxiv_open(deconv)
```


---

The two basic arguments are `query`, a
character string representing the search, and `id_list`, a list of
[arXiv manuscript identifiers](http://arxiv.org/help/arxiv_identifier). 

- If only `query` is provided, manuscripts matching that query are
  returned
- If only `id_list` is provided, manuscripts in the list are
  returned
- If both are provided, manuscripts in `id_list` that match `query`
  will be returned.

`query` may be a single character string or a vector of character
strings. If it is a vector, the elements are pasted together with
`AND`.

`id_list` may be a vector of strings or a single
comma-separated character string.



## Counting papers

## Forming queries

## Subject classification


## Technical details

### Metadata limitations

### Limit time between search requests

### Limit number of items returned

### Requests in batches

## License and bugs

- License:
  [MIT](https://github.com/ropensci/aRxiv/blob/master/LICENSE)
- Report bugs or suggestions improvements by [submitting an issue](https://github.com/ropensci/aRxiv/issues) to
  [our GitHub repository for aRxiv](https://github.com/ropensci/aRxiv).



<!-- the following to make it look nicer -->
<link href="http://kbroman.org/qtlcharts/assets/vignettes/vignette.css" rel="stylesheet"></link>
